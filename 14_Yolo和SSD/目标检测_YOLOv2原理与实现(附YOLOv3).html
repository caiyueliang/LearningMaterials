<!DOCTYPE html>
<!-- saved from url=(0037)https://zhuanlan.zhihu.com/p/35325884 -->
<html lang="zh" data-hairline="true" data-theme="light" data-focus-method="pointer"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>目标检测|YOLOv2原理与实现(附YOLOv3)</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="renderer" content="webkit"><meta name="force-rendering" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="google-site-verification" content="FTeR0c8arOPKh8c5DYh_9uu98_zJbaWw53J-Sch9MTg"><meta data-react-helmet="true" property="description" content="码字不易，欢迎给个赞！欢迎交流与转载，文章会同步发布在公众号：机器学习算法全栈工程师(Jeemy110)前期文章：小白将：目标检测|YOLO原理与实现小白将：目标检测|SSD原理与实现小白将：综述|基于深度学习的目标检…"><meta data-react-helmet="true" property="og:title" content="目标检测|YOLOv2原理与实现(附YOLOv3)"><meta data-react-helmet="true" property="og:url" content="http://zhuanlan.zhihu.com/p/35325884"><meta data-react-helmet="true" property="og:description" content="码字不易，欢迎给个赞！欢迎交流与转载，文章会同步发布在公众号：机器学习算法全栈工程师(Jeemy110)前期文章：小白将：目标检测|YOLO原理与实现小白将：目标检测|SSD原理与实现小白将：综述|基于深度学习的目标检…"><meta data-react-helmet="true" property="og:image" content="https://pic1.zhimg.com/v2-25342d6432f529bec278307cdadea0bc_r.jpg"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="og:site_name" content="知乎专栏"><link rel="shortcut icon" type="image/x-icon" href="https://static.zhihu.com/static/favicon.ico"><link rel="search" type="application/opensearchdescription+xml" href="https://static.zhihu.com/static/search.xml" title="知乎"><link rel="dns-prefetch" href="https://static.zhimg.com/"><link rel="dns-prefetch" href="https://pic1.zhimg.com/"><link rel="dns-prefetch" href="https://pic2.zhimg.com/"><link rel="dns-prefetch" href="https://pic3.zhimg.com/"><link rel="dns-prefetch" href="https://pic4.zhimg.com/"><link href="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/column.app.b135e894c9bee1f30d77.css" rel="stylesheet"><script type="text/javascript" charset="utf-8" async="" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/column.modals.e29ea3aab47b431063fe.js.下载"></script><script type="text/javascript" charset="utf-8" async="" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/column.richinput.d6473ef647574d98c584.js.下载"></script></head><body class=""><div id="root"><div class="App" data-reactroot=""><div class="LoadingBar"></div><main role="main" class="App-main"><div class="Post-content" data-zop-usertoken="{&quot;userToken&quot;:&quot;yue-liang-he-xiao&quot;}" data-zop="{&quot;authorName&quot;:&quot;小白将&quot;,&quot;itemId&quot;:35325884,&quot;title&quot;:&quot;目标检测|YOLOv2原理与实现(附YOLOv3)&quot;,&quot;type&quot;:&quot;article&quot;}" data-za-detail-view-path-module="PostItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;token&quot;:&quot;35325884&quot;}}}"><div class="ColumnPageHeader-Wrapper"><div><div class="Sticky ColumnPageHeader is-fixed" style="width: 1519.2px; top: 0px; left: 0px;"><div class="ColumnPageHeader-content"><a href="https://www.zhihu.com/" aria-label="知乎"><svg viewBox="0 0 200 91" class="Icon ZhihuLogo Icon--logo" style="height:30px;width:64px" width="64" height="30" aria-hidden="true"><title></title><g><path d="M53.29 80.035l7.32.002 2.41 8.24 13.128-8.24h15.477v-67.98H53.29v67.978zm7.79-60.598h22.756v53.22h-8.73l-8.718 5.473-1.587-5.46-3.72-.012v-53.22zM46.818 43.162h-16.35c.545-8.467.687-16.12.687-22.955h15.987s.615-7.05-2.68-6.97H16.807c1.09-4.1 2.46-8.332 4.1-12.708 0 0-7.523 0-10.085 6.74-1.06 2.78-4.128 13.48-9.592 24.41 1.84-.2 7.927-.37 11.512-6.94.66-1.84.785-2.08 1.605-4.54h9.02c0 3.28-.374 20.9-.526 22.95H6.51c-3.67 0-4.863 7.38-4.863 7.38H22.14C20.765 66.11 13.385 79.24 0 89.62c6.403 1.828 12.784-.29 15.937-3.094 0 0 7.182-6.53 11.12-21.64L43.92 85.18s2.473-8.402-.388-12.496c-2.37-2.788-8.768-10.33-11.496-13.064l-4.57 3.627c1.363-4.368 2.183-8.61 2.46-12.71H49.19s-.027-7.38-2.372-7.38zm128.752-.502c6.51-8.013 14.054-18.302 14.054-18.302s-5.827-4.625-8.556-1.27c-1.874 2.548-11.51 15.063-11.51 15.063l6.012 4.51zm-46.903-18.462c-2.814-2.577-8.096.667-8.096.667s12.35 17.2 12.85 17.953l6.08-4.29s-8.02-11.752-10.83-14.33zM199.99 46.5c-6.18 0-40.908.292-40.953.292v-31.56c1.503 0 3.882-.124 7.14-.376 12.773-.753 21.914-1.25 27.427-1.504 0 0 3.817-8.496-.185-10.45-.96-.37-7.24 1.43-7.24 1.43s-51.63 5.153-72.61 5.64c.5 2.756 2.38 5.336 4.93 6.11 4.16 1.087 7.09.53 15.36.277 7.76-.5 13.65-.76 17.66-.76v31.19h-41.71s.88 6.97 7.97 7.14h33.73v22.16c0 4.364-3.498 6.87-7.65 6.6-4.4.034-8.15-.36-13.027-.566.623 1.24 1.977 4.496 6.035 6.824 3.087 1.502 5.054 2.053 8.13 2.053 9.237 0 14.27-5.4 14.027-14.16V53.93h38.235c3.026 0 2.72-7.432 2.72-7.432z" fill-rule="evenodd"></path></g></svg></a><i class="ColumnPageHeader-Line"></i><div class="ColumnPageHeader-Title"><a class="ColumnLink ColumnPageHeader-Link" href="https://zhuanlan.zhihu.com/JeemyJohn"><img class="Avatar Avatar--round" width="30" height="30" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4f43d00a3ae064f695fb1314ca3b7631_is.jpg" srcset="https://pic4.zhimg.com/v2-4f43d00a3ae064f695fb1314ca3b7631_im.jpg 2x" alt="机器学习算法工程师"></a><div class="ColumnPageHeader-TitleName"><span class="ColumnPageHeader-TitleMeta">首发于</span><a class="ColumnLink ColumnPageHeader-TitleColumn" href="https://zhuanlan.zhihu.com/JeemyJohn">机器学习算法工程师</a></div></div><div class="ColumnPageHeader-Button"><button type="button" class="Button FollowButton ColumnPageHeader-FollowButton Button--primary Button--grey">已关注</button><button type="button" class="Button ColumnPageHeader-WriteButton Button--blue"><svg class="Zi Zi--EditSurround" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"></path></svg>写文章</button><div class="Popover"><button title="更多" type="button" id="Popover-9741-65099-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9741-65099-content" class="Button ColumnPageHeader-MenuToggler Button--plain"><svg class="Zi Zi--Dots" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"></path></svg></button></div></div></div></div><div class="Sticky--holder" style="position: relative; top: 0px; right: 0px; bottom: 0px; left: 0px; display: block; float: none; margin: 0px; height: 52px;"></div></div></div><img class="TitleImage" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-25342d6432f529bec278307cdadea0bc_1200x500.jpg" alt="目标检测|YOLOv2原理与实现(附YOLOv3)"><article class="Post-Main Post-NormalMain"><header class="Post-Header"><h1 class="Post-Title">目标检测|YOLOv2原理与实现(附YOLOv3)</h1><div class="Post-Author"><div class="AuthorInfo" itemprop="author" itemscope="" itemtype="http://schema.org/Person"><meta itemprop="name" content="小白将"><meta itemprop="image" content="https://pic3.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_is.jpg"><meta itemprop="url" content="https://www.zhihu.com/people/xiaohuzc"><meta itemprop="zhihu:followerCount"><span class="UserLink AuthorInfo-avatarWrapper"><div class="Popover"><div id="Popover-9748-89918-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9748-89918-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar Avatar--round AuthorInfo-avatar" width="38" height="38" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg" srcset="https://pic3.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_l.jpg 2x" alt="小白将"></a></div></div></span><div class="AuthorInfo-content"><div class="AuthorInfo-head"><span class="UserLink AuthorInfo-name"><div class="Popover"><div id="Popover-9748-69310-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9748-69310-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></div></div></span></div><div class="AuthorInfo-detail"><div class="AuthorInfo-badge"><div class="RichText ztext AuthorInfo-badgeText">为人民日益增长的美好生活需要而读书</div></div></div></div></div><button type="button" class="Button FollowButton Button--primary Button--blue"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Plus FollowButton-icon" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M13.491 10.488s-.012-5.387 0-5.998c-.037-1.987-3.035-1.987-2.997 0-.038 1.912 0 5.998 0 5.998H4.499c-1.999.01-1.999 3.009 0 3.009s5.995-.01 5.995-.01v5.999c0 2.019 3.006 2.019 2.997 0-.01-2.019 0-5.998 0-5.998s3.996.009 6.004.009c2.008 0 2.008-3-.01-3.009h-5.994z" fill-rule="evenodd"></path></svg></span>关注他</button></div><div><span class="Voters"><button type="button" class="Button Button--plain">174 人赞了该文章</button></span></div></header><div><div class="RichText ztext Post-RichText"><p><b>码字不易，欢迎给个赞！</b></p><p><b>欢迎交流与转载，文章会同步发布在公众号：机器学习算法全栈工程师(Jeemy110)</b></p><hr><p><b>前期文章：</b></p><a target="_blank" href="https://zhuanlan.zhihu.com/p/32525231" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-d592a5fe18e0afde444bacbba1fd4a5f_180x120.jpg" data-image-width="1567" data-image-height="865" class="LinkCard LinkCard--hasImage" data-za-detail-view-id="172"><span class="LinkCard-backdrop" style="background-image:url(https://pic4.zhimg.com/v2-d592a5fe18e0afde444bacbba1fd4a5f_180x120.jpg)"></span><span class="LinkCard-content"><span><span class="LinkCard-title" data-text="true">小白将：目标检测|YOLO原理与实现</span><span class="LinkCard-meta"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="17" height="17"><path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path></svg></span>zhuanlan.zhihu.com</span></span><span class="LinkCard-imageCell"><img class="LinkCard-image LinkCard-image--horizontal" alt="图标" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-d592a5fe18e0afde444bacbba1fd4a5f_180x120.jpg"></span></span></a><a target="_blank" href="https://zhuanlan.zhihu.com/p/33544892" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-bfaaa064fb1f0c1c7a11a4ce79962e84_180x120.jpg" data-image-width="1021" data-image-height="410" class="LinkCard LinkCard--hasImage" data-za-detail-view-id="172"><span class="LinkCard-backdrop" style="background-image:url(https://pic1.zhimg.com/v2-bfaaa064fb1f0c1c7a11a4ce79962e84_180x120.jpg)"></span><span class="LinkCard-content"><span><span class="LinkCard-title" data-text="true">小白将：目标检测|SSD原理与实现</span><span class="LinkCard-meta"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="17" height="17"><path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path></svg></span>zhuanlan.zhihu.com</span></span><span class="LinkCard-imageCell"><img class="LinkCard-image LinkCard-image--horizontal" alt="图标" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-bfaaa064fb1f0c1c7a11a4ce79962e84_180x120.jpg"></span></span></a><a target="_blank" href="https://zhuanlan.zhihu.com/p/34325398" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-b8d21a6a4017009a68b5b3fddb17923c_180x120.jpg" data-image-width="960" data-image-height="540" class="LinkCard LinkCard--hasImage" data-za-detail-view-id="172"><span class="LinkCard-backdrop" style="background-image:url(https://pic1.zhimg.com/v2-b8d21a6a4017009a68b5b3fddb17923c_180x120.jpg)"></span><span class="LinkCard-content"><span><span class="LinkCard-title" data-text="true">小白将：综述|基于深度学习的目标检测(一)</span><span class="LinkCard-meta"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--InsertLink" fill="currentColor" viewBox="0 0 24 24" width="17" height="17"><path d="M6.77 17.23c-.905-.904-.94-2.333-.08-3.193l3.059-3.06-1.192-1.19-3.059 3.058c-1.489 1.489-1.427 3.954.138 5.519s4.03 1.627 5.519.138l3.059-3.059-1.192-1.192-3.059 3.06c-.86.86-2.289.824-3.193-.08zm3.016-8.673l1.192 1.192 3.059-3.06c.86-.86 2.289-.824 3.193.08.905.905.94 2.334.08 3.194l-3.059 3.06 1.192 1.19 3.059-3.058c1.489-1.489 1.427-3.954-.138-5.519s-4.03-1.627-5.519-.138L9.786 8.557zm-1.023 6.68c.33.33.863.343 1.177.029l5.34-5.34c.314-.314.3-.846-.03-1.176-.33-.33-.862-.344-1.176-.03l-5.34 5.34c-.314.314-.3.846.03 1.177z" fill-rule="evenodd"></path></svg></span>zhuanlan.zhihu.com</span></span><span class="LinkCard-imageCell"><img class="LinkCard-image LinkCard-image--horizontal" alt="图标" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-b8d21a6a4017009a68b5b3fddb17923c_180x120.jpg"></span></span></a><h2>前言</h2><p>在<a href="https://zhuanlan.zhihu.com/p/32525231" class="internal" data-za-detail-view-id="1043">前面的一篇文章</a>中，我们详细介绍了YOLOv1的原理以及实现过程。这篇文章接着介绍YOLOv2的原理以及实现，YOLOv2的论文全名为<a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1612.08242" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">YOLO9000: Better, Faster, Stronger</a>，它斩获了CVPR 2017 Best Paper Honorable Mention。在这篇文章中，作者首先在YOLOv1的基础上提出了改进的YOLOv2，然后提出了一种检测与分类联合训练方法，使用这种联合训练方法在COCO检测数据集和ImageNet分类数据集上训练出了YOLO9000模型，其可以检测超过9000多类物体。所以，这篇文章其实包含两个模型：YOLOv2和YOLO9000，不过后者是在前者基础上提出的，两者模型主体结构是一致的。YOLOv2相比YOLOv1做了很多方面的改进，这也使得YOLOv2的mAP有显著的提升，并且YOLOv2的速度依然很快，保持着自己作为one-stage方法的优势，YOLOv2和Faster R-CNN, SSD等模型的对比如图1所示。这里将首先介绍YOLOv2的改进策略，并给出YOLOv2的TensorFlow实现过程，然后介绍YOLO9000的训练方法。近期，YOLOv3也放出来了，YOLOv3也在YOLOv2的基础上做了一部分改进，我们在最后也会简单谈谈YOLOv3所做的改进工作。</p><figure><noscript><img src="https://pic4.zhimg.com/v2-879f7a2188276ecff42057dad7f93268_b.jpg" data-size="normal" data-rawwidth="683" data-rawheight="464" class="origin_image zh-lightbox-thumb" width="683" data-original="https://pic4.zhimg.com/v2-879f7a2188276ecff42057dad7f93268_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-879f7a2188276ecff42057dad7f93268_hd.jpg" data-size="normal" data-rawwidth="683" data-rawheight="464" class="origin_image zh-lightbox-thumb lazy" width="683" data-original="https://pic4.zhimg.com/v2-879f7a2188276ecff42057dad7f93268_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-879f7a2188276ecff42057dad7f93268_b.jpg"><figcaption>图1：YOLOv2与其它模型在VOC 2007数据集上的效果对比</figcaption></figure><h2>YOLOv2的改进策略</h2><p>YOLOv1虽然检测速度很快，但是在检测精度上却不如R-CNN系检测方法，YOLOv1在物体定位方面（localization）不够准确，并且召回率（recall）较低。YOLOv2共提出了几种改进策略来提升YOLO模型的定位准确度和召回率，从而提高mAP，YOLOv2在改进中遵循一个原则：保持检测速度，这也是YOLO模型的一大优势。YOLOv2的改进策略如图2所示，可以看出，大部分的改进方法都可以比较显著提升模型的mAP。下面详细介绍各个改进策略。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-8f48ba80f887fd5b26bd4211cf740c39_b.jpg" data-size="normal" data-rawwidth="952" data-rawheight="397" class="origin_image zh-lightbox-thumb" width="952" data-original="https://pic3.zhimg.com/v2-8f48ba80f887fd5b26bd4211cf740c39_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-8f48ba80f887fd5b26bd4211cf740c39_hd.jpg" data-size="normal" data-rawwidth="952" data-rawheight="397" class="origin_image zh-lightbox-thumb lazy" width="952" data-original="https://pic3.zhimg.com/v2-8f48ba80f887fd5b26bd4211cf740c39_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-8f48ba80f887fd5b26bd4211cf740c39_b.jpg"><figcaption>图2：YOLOv2相比YOLOv1的改进策略</figcaption></figure><p><b>Batch Normalization</b></p><p>Batch Normalization可以提升模型收敛速度，而且可以起到一定正则化效果，降低模型的过拟合。在YOLOv2中，每个卷积层后面都添加了Batch Normalization层，并且不再使用droput。使用Batch Normalization后，YOLOv2的mAP提升了2.4%。</p><p><br></p><p><b>High Resolution Classifier</b></p><p>目前大部分的检测模型都会在先在ImageNet分类数据集上预训练模型的主体部分（CNN特征提取器），由于历史原因，ImageNet分类模型基本采用大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation" alt="224\times224" eeimg="1"> 的图片作为输入，分辨率相对较低，不利于检测模型。所以YOLOv1在采用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation" alt="224\times224" eeimg="1"> 分类模型预训练后，将分辨率增加至 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(1)" alt="448\times448" eeimg="1"> ，并使用这个高分辨率在检测数据集上finetune。但是直接切换分辨率，检测模型可能难以快速适应高分辨率。所以YOLOv2增加了在ImageNet数据集上使用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(1)" alt="448\times448" eeimg="1"> 输入来finetune分类网络这一中间过程（10 epochs），这可以使得模型在检测数据集上finetune之前已经适用高分辨率输入。使用高分辨率分类器后，YOLOv2的mAP提升了约4%。</p><p><br></p><p><b>Convolutional With Anchor Boxes</b></p><p>在YOLOv1中，输入图片最终被划分为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(2)" alt="7\times7" eeimg="1"> 网格，每个单元格预测2个边界框。YOLOv1最后采用的是全连接层直接对边界框进行预测，其中边界框的宽与高是相对整张图片大小的，而由于各个图片中存在不同尺度和长宽比（scales and ratios）的物体，YOLOv1在训练过程中学习适应不同物体的形状是比较困难的，这也导致YOLOv1在精确定位方面表现较差。YOLOv2借鉴了Faster R-CNN中RPN网络的先验框（anchor boxes，prior boxes，SSD也采用了先验框）策略。RPN对CNN特征提取器得到的特征图（feature map）进行卷积来预测每个位置的边界框以及置信度（是否含有物体），并且各个位置设置不同尺度和比例的先验框，所以RPN预测的是边界框相对于先验框的offsets值（其实是transform值，详细见<a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1506.01497" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Faster R_CNN论文</a>），采用先验框使得模型更容易学习。所以YOLOv2移除了YOLOv1中的全连接层而采用了卷积和anchor boxes来预测边界框。为了使检测所用的特征图分辨率更高，移除其中的一个pool层。在检测模型中，YOLOv2不是采用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(1)" alt="448\times448" eeimg="1"> 图片作为输入，而是采用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(3)" alt="416\times416" eeimg="1"> 大小。因为YOLOv2模型下采样的总步长为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(4)" alt="32" eeimg="1"> ，对于 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(3)" alt="416\times416" eeimg="1"> 大小的图片，最终得到的特征图大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(5)" alt="13\times13" eeimg="1"> ，维度是奇数，这样特征图恰好只有一个中心位置。对于一些大物体，它们中心点往往落入图片中心位置，此时使用特征图的一个中心点去预测这些物体的边界框相对容易些。所以在YOLOv2设计中要保证最终的特征图有奇数个位置。对于YOLOv1，每个cell都预测2个boxes，每个boxes包含5个值： <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(6)" alt="(x, y, w, h, c)" eeimg="1"> ，前4个值是边界框位置与大小，最后一个值是置信度（confidence scores，包含两部分：含有物体的概率以及预测框与ground truth的IOU）。但是每个cell只预测一套分类概率值（class predictions，其实是置信度下的条件概率值）,供2个boxes共享。YOLOv2使用了anchor boxes之后，每个位置的各个anchor box都单独预测一套分类概率值，这和SSD比较类似（但SSD没有预测置信度，而是把background作为一个类别来处理）。</p><p>使用anchor boxes之后，YOLOv2的mAP有稍微下降（这里下降的原因，我猜想是YOLOv2虽然使用了anchor boxes，但是依然采用YOLOv1的训练方法）。YOLOv1只能预测98个边界框（ <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(7)" alt="7\times7\times2" eeimg="1"> ），而YOLOv2使用anchor boxes之后可以预测上千个边界框（ <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(8)" alt="13\times13\times\text{num_anchors}" eeimg="1"> ）。所以使用anchor boxes之后，YOLOv2的召回率大大提升，由原来的81%升至88%。</p><p><br></p><p><b>Dimension Clusters</b></p><p>在Faster R-CNN和SSD中，先验框的维度（长和宽）都是手动设定的，带有一定的主观性。如果选取的先验框维度比较合适，那么模型更容易学习，从而做出更好的预测。因此，YOLOv2采用k-means聚类方法对训练集中的边界框做了聚类分析。因为设置先验框的主要目的是为了使得预测框与ground truth的IOU更好，所以聚类分析时选用box与聚类中心box之间的IOU值作为距离指标： </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(9)" alt="d(box, centroid) = 1 - IOU(box, centroid)" eeimg="1"> </p><p>图3为在VOC和COCO数据集上的聚类分析结果，随着聚类中心数目的增加，平均IOU值（各个边界框与聚类中心的IOU的平均值）是增加的，但是综合考虑模型复杂度和召回率，作者最终选取5个聚类中心作为先验框，其相对于图片的大小如右边图所示。对于两个数据集，5个先验框的width和height如下所示（来源：YOLO源码的<a href="https://link.zhihu.com/?target=https%3A//github.com/pjreddie/darknet/tree/master/cfg" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">cfg文件</a>）：</p><blockquote>COCO: (0.57273, 0.677385), (1.87446, 2.06253), (3.33843, 5.47434), (7.88282, 3.52778), (9.77052, 9.16828)<br>VOC: (1.3221, 1.73145), (3.19275, 4.00944), (5.05587, 8.09892), (9.47112, 4.84053), (11.2364, 10.0071)</blockquote><p>但是这里先验框的大小具体指什么作者并没有说明，但肯定不是像素点，从代码实现上看，应该是相对于预测的特征图大小（ <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(5)" alt="13\times13" eeimg="1"> ）。对比两个数据集，也可以看到COCO数据集上的物体相对小点。这个策略作者并没有单独做实验，但是作者对比了采用聚类分析得到的先验框与手动设置的先验框在平均IOU上的差异，发现前者的平均IOU值更高，因此模型更容易训练学习。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-0c6e54419d7fb2ffada1aa7ac9540c7e_b.jpg" data-size="normal" data-rawwidth="680" data-rawheight="354" class="origin_image zh-lightbox-thumb" width="680" data-original="https://pic3.zhimg.com/v2-0c6e54419d7fb2ffada1aa7ac9540c7e_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-0c6e54419d7fb2ffada1aa7ac9540c7e_hd.jpg" data-size="normal" data-rawwidth="680" data-rawheight="354" class="origin_image zh-lightbox-thumb lazy" width="680" data-original="https://pic3.zhimg.com/v2-0c6e54419d7fb2ffada1aa7ac9540c7e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-0c6e54419d7fb2ffada1aa7ac9540c7e_b.jpg"><figcaption>图3：数据集VOC和COCO上的边界框聚类分析结果</figcaption></figure><p><b>New Network: Darknet-19</b></p><p>YOLOv2采用了一个新的基础模型（特征提取器），称为Darknet-19，包括19个卷积层和5个maxpooling层，如图4所示。Darknet-19与VGG16模型设计原则是一致的，主要采用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(10)" alt="3\times3" eeimg="1"> 卷积，采用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(11)" alt="2\times2" eeimg="1"> 的maxpooling层之后，特征图维度降低2倍，而同时将特征图的channles增加两倍。与NIN(<a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1312.4400" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Network in Network</a>)类似，Darknet-19最终采用global avgpooling做预测，并且在 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(10)" alt="3\times3" eeimg="1"> 卷积之间使用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(12)" alt="1\times1" eeimg="1"> 卷积来压缩特征图channles以降低模型计算量和参数。Darknet-19每个卷积层后面同样使用了batch norm层以加快收敛速度，降低模型过拟合。在ImageNet分类数据集上，Darknet-19的top-1准确度为72.9%，top-5准确度为91.2%，但是模型参数相对小一些。使用Darknet-19之后，YOLOv2的mAP值没有显著提升，但是计算量却可以减少约33%。</p><figure><noscript><img src="https://pic1.zhimg.com/v2-6b500d1b8bc35c53191daa65eb49f56f_b.jpg" data-size="normal" data-rawwidth="528" data-rawheight="666" class="origin_image zh-lightbox-thumb" width="528" data-original="https://pic1.zhimg.com/v2-6b500d1b8bc35c53191daa65eb49f56f_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-6b500d1b8bc35c53191daa65eb49f56f_hd.jpg" data-size="normal" data-rawwidth="528" data-rawheight="666" class="origin_image zh-lightbox-thumb lazy" width="528" data-original="https://pic1.zhimg.com/v2-6b500d1b8bc35c53191daa65eb49f56f_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-6b500d1b8bc35c53191daa65eb49f56f_b.jpg"><figcaption>图4：Darknet-19模型结构</figcaption></figure><p><b>Direct location prediction</b></p><p>前面讲到，YOLOv2借鉴RPN网络使用anchor boxes来预测边界框相对先验框的offsets。边界框的实际中心位置 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(13)" alt="(x,y)" eeimg="1"> ，需要根据预测的坐标偏移值 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(14)" alt="(t_x, t_y)" eeimg="1"> ，先验框的尺度 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(15)" alt="(w_a, h_a)" eeimg="1"> 以及中心坐标 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(16)" alt="(x_a, y_a)" eeimg="1"> （特征图每个位置的中心点）来计算：</p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(17)" alt="x = (t_x\times w_a)-x_a" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(18)" alt="y=(t_y\times h_a) - y_a" eeimg="1"> </p><p>但是上面的公式是无约束的，预测的边界框很容易向任何方向偏移，如当 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(19)" alt="t_x=1" eeimg="1"> 时边界框将向右偏移先验框的一个宽度大小，而当 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(20)" alt="t_x=-1" eeimg="1"> 时边界框将向左偏移先验框的一个宽度大小，因此每个位置预测的边界框可以落在图片任何位置，这导致模型的不稳定性，在训练时需要很长时间来预测出正确的offsets。所以，YOLOv2弃用了这种预测方式，而是沿用YOLOv1的方法，就是预测边界框中心点相对于对应cell左上角位置的相对偏移值，为了将边界框中心点约束在当前cell中，使用sigmoid函数处理偏移值，这样预测的偏移值在(0,1)范围内（每个cell的尺度看做1）。总结来看，根据边界框预测的4个offsets <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(21)" alt="t_x, t_y, t_w, t_h" eeimg="1"> ，可以按如下公式计算出边界框实际位置和大小：</p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(22)" alt="b_x = \sigma (t_x)+c_x" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(23)" alt="b_y = \sigma (t_y) + c_y" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(24)" alt="b_w = p_we^{t_w}" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(25)" alt="b_h = p_he^{t_h}" eeimg="1"> </p><p>其中 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(26)" alt="(c_x, x_y)" eeimg="1"> 为cell的左上角坐标，如图5所示，在计算时每个cell的尺度为1，所以当前cell的左上角坐标为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(27)" alt="(1,1)" eeimg="1"> 。由于sigmoid函数的处理，边界框的中心位置会约束在当前cell内部，防止偏移过多。而 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(28)" alt="p_w" eeimg="1"> 和 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(29)" alt="p_h" eeimg="1"> 是先验框的宽度与长度，前面说过它们的值也是相对于特征图大小的，在特征图中每个cell的长和宽均为1。这里记特征图的大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(30)" alt="(W, H)" eeimg="1"> （在文中是 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(31)" alt="(13, 13)" eeimg="1"> )，这样我们可以将边界框相对于整张图片的位置和大小计算出来（4个值均在0和1之间）：</p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(32)" alt="b_x = (\sigma (t_x)+c_x)/W" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(33)" alt=" b_y = (\sigma (t_y) + c_y)/H" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(34)" alt="b_w = p_we^{t_w}/W" eeimg="1"> </p><p><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(35)" alt=" b_h = p_he^{t_h}/H" eeimg="1"> </p><p>如果再将上面的4个值分别乘以图片的宽度和长度（像素点值）就可以得到边界框的最终位置和大小了。这就是YOLOv2边界框的整个解码过程。约束了边界框的位置预测值使得模型更容易稳定训练，结合聚类分析得到先验框与这种预测方法，YOLOv2的mAP值提升了约5%。</p><figure><noscript><img src="https://pic2.zhimg.com/v2-7fee941c2e347efc2a3b19702a4acd8e_b.jpg" data-size="normal" data-rawwidth="667" data-rawheight="499" class="origin_image zh-lightbox-thumb" width="667" data-original="https://pic2.zhimg.com/v2-7fee941c2e347efc2a3b19702a4acd8e_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-7fee941c2e347efc2a3b19702a4acd8e_hd.jpg" data-size="normal" data-rawwidth="667" data-rawheight="499" class="origin_image zh-lightbox-thumb lazy" width="667" data-original="https://pic2.zhimg.com/v2-7fee941c2e347efc2a3b19702a4acd8e_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-7fee941c2e347efc2a3b19702a4acd8e_b.jpg"><figcaption>图5：边界框位置与大小的计算示例图</figcaption></figure><p><b>Fine-Grained Features</b></p><p>YOLOv2的输入图片大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(3)" alt="416\times416" eeimg="1"> ，经过5次maxpooling之后得到 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(5)" alt="13\times13" eeimg="1"> 大小的特征图，并以此特征图采用卷积做预测。 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(5)" alt="13\times13" eeimg="1"> 大小的特征图对检测大物体是足够了，但是对于小物体还需要更精细的特征图（Fine-Grained Features）。因此SSD使用了多尺度的特征图来分别检测不同大小的物体，前面更精细的特征图可以用来预测小物体。YOLOv2提出了一种passthrough层来利用更精细的特征图。YOLOv2所利用的Fine-Grained Features是 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(36)" alt="26\times26" eeimg="1"> 大小的特征图（最后一个maxpooling层的输入），对于Darknet-19模型来说就是大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(37)" alt="26\times26\times512" eeimg="1"> 的特征图。passthrough层与ResNet网络的shortcut类似，以前面更高分辨率的特征图为输入，然后将其连接到后面的低分辨率特征图上。前面的特征图维度是后面的特征图的2倍，passthrough层抽取前面层的每个 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(11)" alt="2\times2" eeimg="1"> 的局部区域，然后将其转化为channel维度，对于 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(37)" alt="26\times26\times512" eeimg="1"> 的特征图，经passthrough层处理之后就变成了 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(38)" alt="13\times13\times2048" eeimg="1"> 的新特征图（特征图大小降低4倍，而channles增加4倍，图6为一个实例），这样就可以与后面的 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(39)" alt="13\times13\times1024" eeimg="1"> 特征图连接在一起形成 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(40)" alt="13\times13\times3072" eeimg="1"> 大小的特征图，然后在此特征图基础上卷积做预测。在YOLO的C源码中，passthrough层称为<a href="https://link.zhihu.com/?target=https%3A//github.com/pjreddie/darknet/blob/master/src/reorg_layer.c" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">reorg layer</a>。在TensorFlow中，可以使用<a href="https://link.zhihu.com/?target=https%3A//www.tensorflow.org/api_docs/python/tf/extract_image_patches" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">tf.extract_image_patches</a>或者<a href="https://link.zhihu.com/?target=https%3A//www.tensorflow.org/api_docs/python/tf/space_to_depth" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">tf.space_to_depth</a>来实现passthrough层：</p><div class="highlight"><pre><code class="language-python"><span></span><span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">extract_image_patches</span><span class="p">(</span><span class="ow">in</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="n">stride</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">padding</span><span class="o">=</span><span class="s2">"VALID"</span><span class="p">)</span>
<span class="o">//</span> <span class="ow">or</span> <span class="n">use</span> <span class="n">tf</span><span class="o">.</span><span class="n">space_to_depth</span>
<span class="n">out</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">space_to_depth</span><span class="p">(</span><span class="ow">in</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</code></pre></div><figure><noscript><img src="https://pic2.zhimg.com/v2-c94c787a81c1216d8963f7c173c6f086_b.jpg" data-size="normal" data-rawwidth="800" data-rawheight="181" class="origin_image zh-lightbox-thumb" width="800" data-original="https://pic2.zhimg.com/v2-c94c787a81c1216d8963f7c173c6f086_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-c94c787a81c1216d8963f7c173c6f086_hd.jpg" data-size="normal" data-rawwidth="800" data-rawheight="181" class="origin_image zh-lightbox-thumb lazy" width="800" data-original="https://pic2.zhimg.com/v2-c94c787a81c1216d8963f7c173c6f086_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-c94c787a81c1216d8963f7c173c6f086_b.jpg"><figcaption>图6：passthrough层实例</figcaption></figure><p>另外，作者在后期的实现中借鉴了ResNet网络，不是直接对高分辨特征图处理，而是增加了一个中间卷积层，先采用64个 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(12)" alt="1\times1" eeimg="1"> 卷积核进行卷积，然后再进行passthrough处理，这样 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(37)" alt="26\times26\times512" eeimg="1"> 的特征图得到 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(41)" alt="13\times13\times256" eeimg="1"> 的特征图。这算是实现上的一个小细节。使用Fine-Grained Features之后YOLOv2的性能有1%的提升。</p><p><br></p><p><b>Multi-Scale Training</b></p><p>由于YOLOv2模型中只有卷积层和池化层，所以YOLOv2的输入可以不限于 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(3)" alt="416\times416" eeimg="1"> 大小的图片。为了增强模型的鲁棒性，YOLOv2采用了多尺度输入训练策略，具体来说就是在训练过程中每间隔一定的iterations之后改变模型的输入图片大小。由于YOLOv2的下采样总步长为32，输入图片大小选择一系列为32倍数的值： <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(42)" alt="\{320, 352,..., 608\}" eeimg="1"> ，输入图片最小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(43)" alt="320\times320" eeimg="1"> ，此时对应的特征图大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(44)" alt="10\times10" eeimg="1"> （不是奇数了，确实有点尴尬），而输入图片最大为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(45)" alt="608\times608" eeimg="1"> ，对应的特征图大小为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(46)" alt="19\times19" eeimg="1"> 。在训练过程，每隔10个iterations随机选择一种输入图片大小，然后只需要修改对最后检测层的处理就可以重新训练。</p><figure><noscript><img src="https://pic1.zhimg.com/v2-3c72c10c00c9268091d8c93f908d90ed_b.jpg" data-size="normal" data-rawwidth="449" data-rawheight="366" class="origin_image zh-lightbox-thumb" width="449" data-original="https://pic1.zhimg.com/v2-3c72c10c00c9268091d8c93f908d90ed_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-3c72c10c00c9268091d8c93f908d90ed_hd.jpg" data-size="normal" data-rawwidth="449" data-rawheight="366" class="origin_image zh-lightbox-thumb lazy" width="449" data-original="https://pic1.zhimg.com/v2-3c72c10c00c9268091d8c93f908d90ed_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-3c72c10c00c9268091d8c93f908d90ed_b.jpg"><figcaption>图7：Multi-Scale Training</figcaption></figure><p>采用Multi-Scale Training策略，YOLOv2可以适应不同大小的图片，并且预测出很好的结果。在测试时，YOLOv2可以采用不同大小的图片作为输入，在VOC 2007数据集上的效果如下图所示。可以看到采用较小分辨率时，YOLOv2的mAP值略低，但是速度更快，而采用高分辨输入时，mAP值更高，但是速度略有下降，对于 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(47)" alt="544\times544" eeimg="1"> ，mAP高达78.6%。注意，这只是测试时输入图片大小不同，而实际上用的是同一个模型（采用Multi-Scale Training训练）。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-71f001caa2968d5fb9196250d80f7b82_b.jpg" data-size="normal" data-rawwidth="657" data-rawheight="388" class="origin_image zh-lightbox-thumb" width="657" data-original="https://pic3.zhimg.com/v2-71f001caa2968d5fb9196250d80f7b82_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-71f001caa2968d5fb9196250d80f7b82_hd.jpg" data-size="normal" data-rawwidth="657" data-rawheight="388" class="origin_image zh-lightbox-thumb lazy" width="657" data-original="https://pic3.zhimg.com/v2-71f001caa2968d5fb9196250d80f7b82_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-71f001caa2968d5fb9196250d80f7b82_b.jpg"><figcaption>图8：YOLOv2在VOC 2007数据集上的性能对比</figcaption></figure><p>总结来看，虽然YOLOv2做了很多改进，但是大部分都是借鉴其它论文的一些技巧，如Faster R-CNN的anchor boxes，YOLOv2采用anchor boxes和卷积做预测，这基本上与SSD模型（单尺度特征图的SSD）非常类似了，而且SSD也是借鉴了Faster R-CNN的RPN网络。从某种意义上来说，YOLOv2和SSD这两个one-stage模型与RPN网络本质上无异，只不过RPN不做类别的预测，只是简单地区分物体与背景。在two-stage方法中，RPN起到的作用是给出region proposals，其实就是作出粗糙的检测，所以另外增加了一个stage，即采用R-CNN网络来进一步提升检测的准确度（包括给出类别预测）。而对于one-stage方法，它们想要一步到位，直接采用“RPN”网络作出精确的预测，要因此要在网络设计上做很多的tricks。YOLOv2的一大创新是采用Multi-Scale Training策略，这样同一个模型其实就可以适应多种大小的图片了。</p><p><br></p><h2>YOLOv2的训练</h2><p>YOLOv2的训练主要包括三个阶段。第一阶段就是先在ImageNet分类数据集上预训练Darknet-19，此时模型输入为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation" alt="224\times224" eeimg="1"> ，共训练160个epochs。然后第二阶段将网络的输入调整为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(1)" alt="448\times448" eeimg="1"> ，继续在ImageNet数据集上finetune分类模型，训练10个epochs，此时分类模型的top-1准确度为76.5%，而top-5准确度为93.3%。第三个阶段就是修改Darknet-19分类模型为检测模型，并在检测数据集上继续finetune网络。网络修改包括（<a href="https://link.zhihu.com/?target=http%3A//ethereon.github.io/netscope/%23/gist/d08a41711e48cf111e330827b1279c31" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">网路结构可视化</a>）：移除最后一个卷积层、global avgpooling层以及softmax层，并且新增了三个 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(48)" alt="3\times3\times2014" eeimg="1">卷积层，同时增加了一个passthrough层，最后使用 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(12)" alt="1\times1" eeimg="1"> 卷积层输出预测结果，输出的channels数为： <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(49)" alt="\text{num_anchors}\times(5+\text{num_classes})" eeimg="1"> ，和训练采用的数据集有关系。由于anchors数为5，对于VOC数据集输出的channels数就是125，而对于COCO数据集则为425。这里以VOC数据集为例，最终的预测矩阵为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(50)" alt="T" eeimg="1"> （shape为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(51)" alt="(\text{batch_size}, 13, 13, 125)" eeimg="1"> ），可以先将其reshape为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(52)" alt="(\text{batch_size}, 13, 13, 5, 25)" eeimg="1"> ，其中 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(53)" alt="T[:, :, :, :, 0:4]" eeimg="1"> 为边界框的位置和大小 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(54)" alt="(t_x, t_y, t_w, t_h)" eeimg="1"> ， <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(55)" alt="T[:, :, :, :, 4]" eeimg="1"> 为边界框的置信度，而 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(56)" alt="T[:, :, :, :, 5:]" eeimg="1"> 为类别预测值。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-a2167f0ab8d7b65a849ce4f38e53e6b5_b.jpg" data-size="normal" data-rawwidth="790" data-rawheight="356" class="origin_image zh-lightbox-thumb" width="790" data-original="https://pic3.zhimg.com/v2-a2167f0ab8d7b65a849ce4f38e53e6b5_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-a2167f0ab8d7b65a849ce4f38e53e6b5_hd.jpg" data-size="normal" data-rawwidth="790" data-rawheight="356" class="origin_image zh-lightbox-thumb lazy" width="790" data-original="https://pic3.zhimg.com/v2-a2167f0ab8d7b65a849ce4f38e53e6b5_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-a2167f0ab8d7b65a849ce4f38e53e6b5_b.jpg"><figcaption>图9：YOLOv2训练的三个阶段</figcaption></figure><figure><noscript><img src="https://pic1.zhimg.com/v2-b23fdd08f65266f7af640c1d3d00c05f_b.jpg" data-size="normal" data-rawwidth="1000" data-rawheight="117" class="origin_image zh-lightbox-thumb" width="1000" data-original="https://pic1.zhimg.com/v2-b23fdd08f65266f7af640c1d3d00c05f_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-b23fdd08f65266f7af640c1d3d00c05f_hd.jpg" data-size="normal" data-rawwidth="1000" data-rawheight="117" class="origin_image zh-lightbox-thumb lazy" width="1000" data-original="https://pic1.zhimg.com/v2-b23fdd08f65266f7af640c1d3d00c05f_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-b23fdd08f65266f7af640c1d3d00c05f_b.jpg"><figcaption>图10：YOLOv2结构示意图</figcaption></figure><p>YOLOv2的网络结构以及训练参数我们都知道了，但是貌似少了点东西。仔细一想，原来作者并没有给出YOLOv2的训练过程的两个最重要方面，即先验框匹配（样本选择）以及训练的损失函数，难怪Ng说YOLO论文很难懂，没有这两方面的说明我们确实不知道YOLOv2到底是怎么训练起来的。不过默认按照YOLOv1的处理方式也是可以处理，我看了YOLO在TensorFlow上的实现<a href="https://link.zhihu.com/?target=https%3A//github.com/thtrieu/darkflow" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">darkflow</a>（见<u><a href="https://link.zhihu.com/?target=https%3A//github.com/thtrieu/darkflow/blob/master/darkflow/net/yolov2/train.py" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">yolov2/train.py</a></u>），发现它就是如此处理的：和YOLOv1一样，对于训练图片中的ground truth，若其中心点落在某个cell内，那么该cell内的5个先验框所对应的边界框负责预测它，具体是哪个边界框预测它，需要在训练中确定，即由那个与ground truth的IOU最大的边界框预测它，而剩余的4个边界框不与该ground truth匹配。YOLOv2同样需要假定每个cell至多含有一个grounth truth，而在实际上基本不会出现多于1个的情况。与ground truth匹配的先验框计算坐标误差、置信度误差（此时target为1）以及分类误差，而其它的边界框只计算置信度误差（此时target为0）。YOLOv2和YOLOv1的损失函数一样，为均方差函数。</p><p>但是我看了YOLOv2的源码（训练样本处理与loss计算都包含在文件<a href="https://link.zhihu.com/?target=https%3A//github.com/pjreddie/darknet/blob/master/src/region_layer.c" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">region_layer.c</a>中，YOLO源码没有任何注释，反正我看了是直摇头），并且参考国外的<a href="https://link.zhihu.com/?target=https%3A//towardsdatascience.com/training-object-detection-yolov2-from-scratch-using-cyclic-learning-rates-b3364f7e4755" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">blog</a>以及<a href="https://link.zhihu.com/?target=https%3A//github.com/allanzelener/YAD2K" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">allanzelener/YAD2K</a>（Ng深度学习教程所参考的那个Keras实现）上的实现，发现YOLOv2的处理比原来的v1版本更加复杂。先给出loss计算公式：</p><figure><noscript><img src="https://pic2.zhimg.com/v2-58f1eec5594de9e887f22ac590b33062_b.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="413" class="origin_image zh-lightbox-thumb" width="800" data-original="https://pic2.zhimg.com/v2-58f1eec5594de9e887f22ac590b33062_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-58f1eec5594de9e887f22ac590b33062_hd.jpg" data-caption="" data-size="normal" data-rawwidth="800" data-rawheight="413" class="origin_image zh-lightbox-thumb lazy" width="800" data-original="https://pic2.zhimg.com/v2-58f1eec5594de9e887f22ac590b33062_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-58f1eec5594de9e887f22ac590b33062_b.jpg"></figure><p>我们来一点点解释，首先 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(57)" alt="W, H" eeimg="1"> 分别指的是特征图（ <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(5)" alt="13\times13" eeimg="1"> ）的宽与高，而 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(58)" alt="A" eeimg="1"> 指的是先验框数目（这里是5），各个 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(59)" alt="\lambda" eeimg="1"> 值是各个loss部分的权重系数。第一项loss是计算background的置信度误差，但是哪些预测框来预测背景呢，需要先计算各个预测框和所有ground truth的IOU值，并且取最大值Max_IOU，如果该值小于一定的阈值（YOLOv2使用的是0.6），那么这个预测框就标记为background，需要计算noobj的置信度误差。第二项是计算先验框与预测宽的坐标误差，但是只在前12800个iterations间计算，我觉得这项应该是在训练前期使预测框快速学习到先验框的形状。第三大项计算与某个ground truth匹配的预测框各部分loss值，包括坐标误差、置信度误差以及分类误差。先说一下匹配原则，对于某个ground truth，首先要确定其中心点要落在哪个cell上，然后计算这个cell的5个先验框与ground truth的IOU值（YOLOv2中bias_match=1），计算IOU值时不考虑坐标，只考虑形状，所以先将先验框与ground truth的中心点都偏移到同一位置（原点），然后计算出对应的IOU值，IOU值最大的那个先验框与ground truth匹配，对应的预测框用来预测这个ground truth。在计算obj置信度时，在YOLOv1中target=1，而YOLOv2增加了一个控制参数rescore，当其为1时，target取预测框与ground truth的真实IOU值。对于那些没有与ground truth匹配的先验框（与预测框对应），除去那些Max_IOU低于阈值的，其它的就全部忽略，不计算任何误差。这点在YOLOv3论文中也有相关说明：YOLO中一个ground truth只会与一个先验框匹配（IOU值最好的），对于那些IOU值超过一定阈值的先验框，其预测结果就忽略了。这和SSD与RPN网络的处理方式有很大不同，因为它们可以将一个ground truth分配给多个先验框。尽管YOLOv2和YOLOv1计算loss处理上有不同，但都是采用均方差来计算loss。另外需要注意的一点是，在计算boxes的 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(60)" alt="w" eeimg="1"> 和 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(61)" alt="h" eeimg="1"> 误差时，YOLOv1中采用的是平方根以降低boxes的大小对误差的影响，而YOLOv2是直接计算，但是根据ground truth的大小对权重系数进行修正：l.coord_scale * (2 - truth.w*truth.h)（这里w和h都归一化到(0,1))，这样对于尺度较小的boxes其权重系数会更大一些，可以放大误差，起到和YOLOv1计算平方根相似的效果（参考<a href="https://link.zhihu.com/?target=http%3A//www.cnblogs.com/YiXiaoZhou/p/7429481.html" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">YOLO v2 损失函数源码分析</a>）。</p><p><br></p><div class="highlight"><pre><code class="language-c"><span></span><span class="c1">// box误差函数，计算梯度</span>
<span class="kt">float</span> <span class="nf">delta_region_box</span><span class="p">(</span><span class="n">box</span> <span class="n">truth</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">biases</span><span class="p">,</span> <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">,</span> <span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">,</span> <span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="kt">int</span> <span class="n">h</span><span class="p">,</span> <span class="kt">float</span> <span class="o">*</span><span class="n">delta</span><span class="p">,</span> <span class="kt">float</span> <span class="n">scale</span><span class="p">,</span> <span class="kt">int</span> <span class="n">stride</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">box</span> <span class="n">pred</span> <span class="o">=</span> <span class="n">get_region_box</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">biases</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">stride</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">iou</span> <span class="o">=</span> <span class="n">box_iou</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">truth</span><span class="p">);</span>
   
    <span class="c1">// 计算ground truth的offsets值</span>
    <span class="kt">float</span> <span class="n">tx</span> <span class="o">=</span> <span class="p">(</span><span class="n">truth</span><span class="p">.</span><span class="n">x</span><span class="o">*</span><span class="n">w</span> <span class="o">-</span> <span class="n">i</span><span class="p">);</span>  
    <span class="kt">float</span> <span class="n">ty</span> <span class="o">=</span> <span class="p">(</span><span class="n">truth</span><span class="p">.</span><span class="n">y</span><span class="o">*</span><span class="n">h</span> <span class="o">-</span> <span class="n">j</span><span class="p">);</span>
    <span class="kt">float</span> <span class="n">tw</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">truth</span><span class="p">.</span><span class="n">w</span><span class="o">*</span><span class="n">w</span> <span class="o">/</span> <span class="n">biases</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="p">]);</span>
    <span class="kt">float</span> <span class="n">th</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">truth</span><span class="p">.</span><span class="n">h</span><span class="o">*</span><span class="n">h</span> <span class="o">/</span> <span class="n">biases</span><span class="p">[</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]);</span>

    <span class="n">delta</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">0</span><span class="o">*</span><span class="n">stride</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="p">(</span><span class="n">tx</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">0</span><span class="o">*</span><span class="n">stride</span><span class="p">]);</span>
    <span class="n">delta</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="o">*</span><span class="n">stride</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="p">(</span><span class="n">ty</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="o">*</span><span class="n">stride</span><span class="p">]);</span>
    <span class="n">delta</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">stride</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="p">(</span><span class="n">tw</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">stride</span><span class="p">]);</span>
    <span class="n">delta</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">stride</span><span class="p">]</span> <span class="o">=</span> <span class="n">scale</span> <span class="o">*</span> <span class="p">(</span><span class="n">th</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="n">index</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">stride</span><span class="p">]);</span>
    <span class="k">return</span> <span class="n">iou</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p><br></p><p>最终的YOLOv2模型在速度上比YOLOv1还快（采用了计算量更少的Darknet-19模型），而且模型的准确度比YOLOv1有显著提升，详情见paper。</p><p><br></p><h2>YOLOv2在TensorFlow上实现</h2><p>这里参考YOLOv2在Keras上的复现（见<a href="https://link.zhihu.com/?target=https%3A//github.com/yhcc/yolo2" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">yhcc/yolo2</a>）,使用TensorFlow实现YOLOv2在COCO数据集上的test过程。首先是定义YOLOv2的主体网络结构Darknet-19：</p><div class="highlight"><pre><code class="language-python"><span></span><span class="k">def</span> <span class="nf">darknet</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="n">n_last_channels</span><span class="o">=</span><span class="mi">425</span><span class="p">):</span>
    <span class="sd">"""Darknet19 for YOLOv2"""</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">images</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">maxpool</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"pool1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">maxpool</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"pool2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv3_1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv3_2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv3_3"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">maxpool</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"pool3"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv4_1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv4_2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv4_3"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">maxpool</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"pool4"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv5_1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv5_2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv5_3"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">256</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv5_4"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv5_5"</span><span class="p">)</span>
    <span class="n">shortcut</span> <span class="o">=</span> <span class="n">net</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">maxpool</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"pool5"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv6_1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv6_2"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv6_3"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv6_4"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv6_5"</span><span class="p">)</span>
    <span class="c1"># ---------</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv7_1"</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv7_2"</span><span class="p">)</span>
    <span class="c1"># shortcut</span>
    <span class="n">shortcut</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">shortcut</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv_shortcut"</span><span class="p">)</span>
    <span class="n">shortcut</span> <span class="o">=</span> <span class="n">reorg</span><span class="p">(</span><span class="n">shortcut</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">shortcut</span><span class="p">,</span> <span class="n">net</span><span class="p">],</span> <span class="n">axis</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="mi">1024</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv8"</span><span class="p">)</span>
    <span class="c1"># detection layer</span>
    <span class="n">net</span> <span class="o">=</span> <span class="n">conv2d</span><span class="p">(</span><span class="n">net</span><span class="p">,</span> <span class="n">n_last_channels</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">batch_normalize</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                 <span class="n">activation</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">use_bias</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">"conv_dec"</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">net</span>
</code></pre></div><p>然后实现对Darknet-19模型输出的解码：</p><div class="highlight"><pre><code class="language-python"><span></span><span class="k">def</span> <span class="nf">decode</span><span class="p">(</span><span class="n">detection_feat</span><span class="p">,</span> <span class="n">feat_sizes</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span> <span class="mi">13</span><span class="p">),</span> <span class="n">num_classes</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span>
           <span class="n">anchors</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">"""decode from the detection feature"""</span>
    <span class="n">H</span><span class="p">,</span> <span class="n">W</span> <span class="o">=</span> <span class="n">feat_sizes</span>
    <span class="n">num_anchors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">anchors</span><span class="p">)</span>
    <span class="n">detetion_results</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">detection_feat</span><span class="p">,</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">H</span> <span class="o">*</span> <span class="n">W</span><span class="p">,</span> <span class="n">num_anchors</span><span class="p">,</span>
                                        <span class="n">num_classes</span> <span class="o">+</span> <span class="mi">5</span><span class="p">])</span>

    <span class="n">bbox_xy</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">sigmoid</span><span class="p">(</span><span class="n">detetion_results</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
    <span class="n">bbox_wh</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">detetion_results</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
    <span class="n">obj_probs</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">sigmoid</span><span class="p">(</span><span class="n">detetion_results</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">4</span><span class="p">])</span>
    <span class="n">class_probs</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">nn</span><span class="o">.</span><span class="n">softmax</span><span class="p">(</span><span class="n">detetion_results</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">5</span><span class="p">:])</span>

    <span class="n">anchors</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">(</span><span class="n">anchors</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>

    <span class="n">height_ind</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">H</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">width_ind</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
    <span class="n">x_offset</span><span class="p">,</span> <span class="n">y_offset</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">height_ind</span><span class="p">,</span> <span class="n">width_ind</span><span class="p">)</span>
    <span class="n">x_offset</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">x_offset</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">y_offset</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">y_offset</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

    <span class="c1"># decode</span>
    <span class="n">bbox_x</span> <span class="o">=</span> <span class="p">(</span><span class="n">bbox_xy</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x_offset</span><span class="p">)</span> <span class="o">/</span> <span class="n">W</span>
    <span class="n">bbox_y</span> <span class="o">=</span> <span class="p">(</span><span class="n">bbox_xy</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">y_offset</span><span class="p">)</span> <span class="o">/</span> <span class="n">H</span>
    <span class="n">bbox_w</span> <span class="o">=</span> <span class="n">bbox_wh</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">anchors</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="n">W</span> <span class="o">*</span> <span class="mf">0.5</span>
    <span class="n">bbox_h</span> <span class="o">=</span> <span class="n">bbox_wh</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="n">anchors</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">/</span> <span class="n">H</span> <span class="o">*</span> <span class="mf">0.5</span>

    <span class="n">bboxes</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">stack</span><span class="p">([</span><span class="n">bbox_x</span> <span class="o">-</span> <span class="n">bbox_w</span><span class="p">,</span> <span class="n">bbox_y</span> <span class="o">-</span> <span class="n">bbox_h</span><span class="p">,</span>
                       <span class="n">bbox_x</span> <span class="o">+</span> <span class="n">bbox_w</span><span class="p">,</span> <span class="n">bbox_y</span> <span class="o">+</span> <span class="n">bbox_h</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">bboxes</span><span class="p">,</span> <span class="n">obj_probs</span><span class="p">,</span> <span class="n">class_probs</span>
</code></pre></div><p>我将YOLOv2的官方训练权重文件转换了TensorFlow的checkpoint文件（<a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1ZeT5HerjQxyUZ_L9d3X52w" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">下载链接</a>），具体的测试demo都放在我的<a href="https://link.zhihu.com/?target=https%3A//github.com/xiaohu2015/DeepLearning_tutorials/tree/master/ObjectDetections/yolo2" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">GitHub</a>上了，感兴趣的可以去下载测试一下，至于train的实现就自己折腾吧，相对会棘手点。</p><figure><noscript><img src="https://pic2.zhimg.com/v2-b33e14f765fffa76961117cfdd95813d_b.jpg" data-size="normal" data-rawwidth="1275" data-rawheight="719" class="origin_image zh-lightbox-thumb" width="1275" data-original="https://pic2.zhimg.com/v2-b33e14f765fffa76961117cfdd95813d_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-b33e14f765fffa76961117cfdd95813d_hd.jpg" data-size="normal" data-rawwidth="1275" data-rawheight="719" class="origin_image zh-lightbox-thumb lazy" width="1275" data-original="https://pic2.zhimg.com/v2-b33e14f765fffa76961117cfdd95813d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-b33e14f765fffa76961117cfdd95813d_b.jpg"><figcaption>图11：YOLOv2在自然图片上的测试</figcaption></figure><h2>YOLO9000</h2><p>YOLO9000是在YOLOv2的基础上提出的一种可以检测超过9000个类别的模型，其主要贡献点在于提出了一种分类和检测的联合训练策略。众多周知，检测数据集的标注要比分类数据集打标签繁琐的多，所以ImageNet分类数据集比VOC等检测数据集高出几个数量级。在YOLO中，边界框的预测其实并不依赖于物体的标签，所以YOLO可以实现在分类和检测数据集上的联合训练。对于检测数据集，可以用来学习预测物体的边界框、置信度以及为物体分类，而对于分类数据集可以仅用来学习分类，但是其可以大大扩充模型所能检测的物体种类。</p><p>作者选择在COCO和ImageNet数据集上进行联合训练，但是遇到的第一问题是两者的类别并不是完全互斥的，比如"Norfolk terrier"明显属于"dog"，所以作者提出了一种层级分类方法（Hierarchical classification），主要思路是根据各个类别之间的从属关系（根据WordNet）建立一种树结构WordTree，结合COCO和ImageNet建立的WordTree如下图所示：</p><figure><noscript><img src="https://pic3.zhimg.com/v2-bda21cf48f8127c48fede60d81c4d97e_b.jpg" data-size="normal" data-rawwidth="580" data-rawheight="603" class="origin_image zh-lightbox-thumb" width="580" data-original="https://pic3.zhimg.com/v2-bda21cf48f8127c48fede60d81c4d97e_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-bda21cf48f8127c48fede60d81c4d97e_hd.jpg" data-size="normal" data-rawwidth="580" data-rawheight="603" class="origin_image zh-lightbox-thumb lazy" width="580" data-original="https://pic3.zhimg.com/v2-bda21cf48f8127c48fede60d81c4d97e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-bda21cf48f8127c48fede60d81c4d97e_b.jpg"><figcaption>图12：基于COCO和ImageNet数据集建立的WordTree</figcaption></figure><p>WordTree中的根节点为"physical object"，每个节点的子节点都属于同一子类，可以对它们进行softmax处理。在给出某个类别的预测概率时，需要找到其所在的位置，遍历这个path，然后计算path上各个节点的概率之积。</p><figure><noscript><img src="https://pic4.zhimg.com/v2-311fbb6f571ab8889c850671a42a94f8_b.jpg" data-size="normal" data-rawwidth="573" data-rawheight="467" class="origin_image zh-lightbox-thumb" width="573" data-original="https://pic4.zhimg.com/v2-311fbb6f571ab8889c850671a42a94f8_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-311fbb6f571ab8889c850671a42a94f8_hd.jpg" data-size="normal" data-rawwidth="573" data-rawheight="467" class="origin_image zh-lightbox-thumb lazy" width="573" data-original="https://pic4.zhimg.com/v2-311fbb6f571ab8889c850671a42a94f8_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-311fbb6f571ab8889c850671a42a94f8_b.jpg"><figcaption>图13：ImageNet与WordTree预测的对比</figcaption></figure><p>在训练时，如果是检测样本，按照YOLOv2的loss计算误差，而对于分类样本，只计算分类误差。在预测时，YOLOv2给出的置信度就是 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(62)" alt="Pr(physical \space object)" eeimg="1"> ，同时会给出边界框位置以及一个树状概率图。在这个概率图中找到概率最高的路径，当达到某一个阈值时停止，就用当前节点表示预测的类别。</p><p>通过联合训练策略，YOLO9000可以快速检测出超过9000个类别的物体，总体mAP值为19,7%。我觉得这是作者在这篇论文作出的最大的贡献，因为YOLOv2的改进策略亮点并不是很突出，但是YOLO9000算是开创之举。</p><p><br></p><h2>YOLOv3</h2><p>近期，YOLOv3发布了，但是正如作者所说，这仅仅是他们近一年的一个工作报告（TECH REPORT），不算是一个完整的paper，因为他们实际上是把其它论文的一些工作在YOLO上尝试了一下。相比YOLOv2，我觉得YOLOv3最大的变化包括两点：使用残差模型和采用FPN架构。YOLOv3的特征提取器是一个残差模型，因为包含53个卷积层，所以称为Darknet-53，从网络结构上看，相比Darknet-19网络使用了残差单元，所以可以构建得更深。另外一个点是采用FPN架构（<a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1612.03144" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Feature Pyramid Networks for Object Detection</a>）来实现多尺度检测。YOLOv3采用了3个尺度的特征图（当输入为 <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(3)" alt="416\times416" eeimg="1"> 时）： <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(63)" alt="(13\times13)" eeimg="1"> ， <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(64)" alt="(26\times26)" eeimg="1"> ， <img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/equation(65)" alt="(52\times52)" eeimg="1"> ，VOC数据集上的YOLOv3网络结构如图15所示，其中红色部分为各个尺度特征图的检测结果。YOLOv3每个位置使用3个先验框，所以使用k-means得到9个先验框，并将其划分到3个尺度特征图上，尺度更大的特征图使用更小的先验框，和SSD类似。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-4eb082a3b41451556077cc3be64d8a91_b.jpg" data-size="normal" data-rawwidth="485" data-rawheight="619" class="origin_image zh-lightbox-thumb" width="485" data-original="https://pic3.zhimg.com/v2-4eb082a3b41451556077cc3be64d8a91_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4eb082a3b41451556077cc3be64d8a91_hd.jpg" data-size="normal" data-rawwidth="485" data-rawheight="619" class="origin_image zh-lightbox-thumb lazy" width="485" data-original="https://pic3.zhimg.com/v2-4eb082a3b41451556077cc3be64d8a91_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-4eb082a3b41451556077cc3be64d8a91_b.jpg"><figcaption>图14：YOLOv3所用的Darknet-53模型</figcaption></figure><figure><noscript><img src="https://pic2.zhimg.com/v2-ffbc5b713c98c13e2659bb528b05fd67_b.jpg" data-size="normal" data-rawwidth="1291" data-rawheight="1176" class="origin_image zh-lightbox-thumb" width="1291" data-original="https://pic2.zhimg.com/v2-ffbc5b713c98c13e2659bb528b05fd67_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-ffbc5b713c98c13e2659bb528b05fd67_hd.jpg" data-size="normal" data-rawwidth="1291" data-rawheight="1176" class="origin_image zh-lightbox-thumb lazy" width="1291" data-original="https://pic2.zhimg.com/v2-ffbc5b713c98c13e2659bb528b05fd67_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-ffbc5b713c98c13e2659bb528b05fd67_b.jpg"><figcaption>图15 YOLOv3网络结构示意图（VOC数据集）</figcaption></figure><p>YOLOv3与其它检测模型的对比如下图所示，可以看到在速度上YOLOv3完胜其它方法，虽然AP值并不是最好的（如果比较AP-0.5，YOLOv3优势更明显）。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-40b6fe836d9fc67a48b8b98b0b53cf03_b.jpg" data-size="normal" data-rawwidth="712" data-rawheight="418" class="origin_image zh-lightbox-thumb" width="712" data-original="https://pic3.zhimg.com/v2-40b6fe836d9fc67a48b8b98b0b53cf03_r.jpg"></noscript><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-40b6fe836d9fc67a48b8b98b0b53cf03_hd.jpg" data-size="normal" data-rawwidth="712" data-rawheight="418" class="origin_image zh-lightbox-thumb lazy" width="712" data-original="https://pic3.zhimg.com/v2-40b6fe836d9fc67a48b8b98b0b53cf03_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-40b6fe836d9fc67a48b8b98b0b53cf03_b.jpg"><figcaption>图16：YOLOv3在COCO测试集与其它检测算法对比图</figcaption></figure><h2>小结</h2><p>从YOLO的三代变革中可以看到，在目标检测领域比较好的策略包含：设置先验框，采用全卷积做预测，采用残差网络，采用多尺度特征图做预测。期待未来有更好的策略出现。本人水平有限，文中难免出现错误，欢迎指正！</p><p><br></p><h2>参考</h2><ol><li><a href="https://link.zhihu.com/?target=http%3A//pjreddie.com/darknet/" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Darknet官网</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/thtrieu/darkflow" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">thtrieu/darkflow</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1506.02640" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">You Only Look Once: Unified, Real-Time Object Detection</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//arxiv.org/abs/1612.08242" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">YOLO9000: Better, Faster, Stronger</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//pjreddie.com/media/files/papers/YOLOv3.pdf" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">YOLOv3: An Incremental Improvement</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/yhcc/yolo2" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">yhcc/yolo2</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/marvis/pytorch-yolo2" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">pytorch-yolo2</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//towardsdatascience.com/training-object-detection-yolov2-from-scratch-using-cyclic-learning-rates-b3364f7e4755" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">Training Object Detection (YOLOv2) from scratch using Cyclic Learning Rates</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/allanzelener/YAD2K" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">allanzelener/YAD2K</a>.</li><li><a href="https://link.zhihu.com/?target=https%3A//github.com/marvis/pytorch-yolo3" class=" wrap external" target="_blank" rel="nofollow noreferrer" data-za-detail-view-id="1043">marvis/pytorch-yolo3</a>.</li></ol><hr><p><b>码字不易，欢迎给个赞！</b></p><p><b>欢迎交流与转载，文章会同步发布在公众号：机器学习算法全栈工程师(Jeemy110)</b></p></div></div><div class="ContentItem-time"><a target="_blank" href="http://zhuanlan.zhihu.com/p/35325884"><span data-tooltip="发布于 2018-04-08 08:25">编辑于 2018-04-08</span></a></div><div class="Reward"><div><div class="Reward-tagline">「真诚赞赏，手留余香」</div><button class="Reward-rewardBtn">赞赏</button></div><div class="Reward-countZero">还没有人赞赏，快来当第一个赞赏的人吧！</div></div><div class="Post-topicsAndReviewer"><div class="TopicList Post-Topics"><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19590195&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19590195" target="_blank"><div class="Popover"><div id="Popover-9757-55887-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9757-55887-content">计算机视觉</div></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19596960&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19596960" target="_blank"><div class="Popover"><div id="Popover-9758-69722-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9758-69722-content">目标检测</div></div></a></span></div><div class="Tag Topic" data-za-detail-view-path-module="TopicItem" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Topic&quot;,&quot;token&quot;:&quot;19813032&quot;}}}"><span class="Tag-content"><a class="TopicLink" href="https://www.zhihu.com/topic/19813032" target="_blank"><div class="Popover"><div id="Popover-9758-4283-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9758-4283-content">深度学习（Deep Learning）</div></div></a></span></div></div></div><div><div class="Sticky RichContent-actions is-fixed is-bottom" style="width: 690px; bottom: 0px; left: 414.6px;"><div class="ContentItem-actions" data-za-detail-view-path-module="BottomBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;35325884&quot;}}}"><button type="button" class="Button LikeButton ContentItem-action"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like" style="height:16px;width:13px" width="13" height="16" aria-hidden="true"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>174</button><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Comment Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M10.241 19.313a.97.97 0 0 0-.77.2 7.908 7.908 0 0 1-3.772 1.482.409.409 0 0 1-.38-.637 5.825 5.825 0 0 0 1.11-2.237.605.605 0 0 0-.227-.59A7.935 7.935 0 0 1 3 11.25C3 6.7 7.03 3 12 3s9 3.7 9 8.25-4.373 9.108-10.759 8.063z" fill-rule="evenodd"></path></svg></span>59 条评论</button><div class="Popover ShareMenu ContentItem-action"><div class="" id="Popover-9758-94069-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9758-94069-content"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Share Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd"></path></svg></span>分享</button></div></div><button type="button" class="Button ContentItem-action Button--plain Button--withIcon Button--withLabel"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Star Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5.515 19.64l.918-5.355-3.89-3.792c-.926-.902-.639-1.784.64-1.97L8.56 7.74l2.404-4.871c.572-1.16 1.5-1.16 2.072 0L15.44 7.74l5.377.782c1.28.186 1.566 1.068.64 1.97l-3.89 3.793.918 5.354c.219 1.274-.532 1.82-1.676 1.218L12 18.33l-4.808 2.528c-1.145.602-1.896.056-1.677-1.218z" fill-rule="evenodd"></path></svg></span>收藏</button><div class="Post-ActionMenuButton"><div class="Popover"><div id="Popover-9759-1361-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9759-1361-content"><button type="button" class="Button Button--plain Button--withIcon Button--iconOnly"><span style="display:inline-flex;align-items:center">​<svg class="Zi Zi--Dots Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M5 14a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4zm7 0a2 2 0 1 1 0-4 2 2 0 0 1 0 4z" fill-rule="evenodd"></path></svg></span></button></div></div></div></div><div data-za-detail-view-path-module="LeftTabBar" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:{&quot;type&quot;:&quot;Post&quot;,&quot;id&quot;:&quot;35325884&quot;}}}"><div><div class="Post-SideActions" style="opacity: 1;"><button class="like"><div class="Post-SideActions-icon"><svg class="Zi Zi--Like" height="48" fill="currentColor" viewBox="0 0 24 24" width="24"><path d="M2.718 10.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.649.718.649h1.45c.916 0 .847-.649.847-.649v-9.554c-.09-.879-.854-.791-.847-.791l-2.446.022zm11.727-.05s.756-1.577 1.156-4.083c.163-2.861-2.052-3.491-3.037-2.362-1.014 1.233 0 2.057-4.45 5.83C7.336 9.966 7 11.011 7 11.998v6.998c-.016 1.104.491 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.911c1.047-3.515-1.95-3.703-1.95-3.703l-5.387.007z" fill-rule="evenodd"></path></svg></div><div class="likeCount"><div class="likeCount-inner" data-previous="175">174</div></div></button><div class="Popover ShareMenu"><div class="" id="Popover-30886-11674-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-30886-11674-content"><button><div class="Post-SideActions-icon"><svg class="Zi Zi--Share" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M2.931 7.89c-1.067.24-1.275 1.669-.318 2.207l5.277 2.908 8.168-4.776c.25-.127.477.198.273.39L9.05 14.66l.927 5.953c.18 1.084 1.593 1.376 2.182.456l9.644-15.242c.584-.892-.212-2.029-1.234-1.796L2.93 7.89z" fill-rule="evenodd"></path></svg></div>分享</button></div></div></div></div></div></div><div class="Sticky--holder" style="position: static; top: auto; right: auto; bottom: 0px; left: 0px; display: block; float: none; margin: 0px 0px 10px; height: 54px;"></div></div><div class="PostIndex-Contributes" data-za-detail-view-path-module="ColumnList" data-za-detail-view-path-module_name="文章被以下专栏收录" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:null}}"><h3 class="BlockTitle">文章被以下专栏收录</h3><ul><div class="ContentItem Column-ColumnItem"><div class="ContentItem-main"><div class="ContentItem-image"><a class="ColumnLink" href="https://zhuanlan.zhihu.com/JeemyJohn"><div class="Popover"><div id="Popover-9759-75482-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9759-75482-content"><img class="Avatar Avatar--medium Avatar--round" width="40" height="40" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4f43d00a3ae064f695fb1314ca3b7631_xs.jpg" srcset="https://pic4.zhimg.com/v2-4f43d00a3ae064f695fb1314ca3b7631_l.jpg 2x" alt="机器学习算法工程师"></div></div></a></div><div class="ContentItem-head"><h2 class="ContentItem-title"><a class="ColumnLink ColumnItem-Title" href="https://zhuanlan.zhihu.com/JeemyJohn"><div class="Popover"><div id="Popover-9759-42656-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-9759-42656-content">机器学习算法工程师</div></div></a></h2><div class="ContentItem-meta">学习AI算法，请关注微信公众号：机器学习算法工程师……</div></div><div class="ContentItem-extra"><button type="button" class="Button FollowButton Button--primary Button--grey">已关注</button></div></div></div></ul></div><div class="Recommendations-Main" style="width: 1519px;"><h3 class="BlockTitle Recommendations-BlockTitle">推荐阅读</h3><ul class="Recommendations-List"><button class="PagingButton PagingButton-Previous" disabled=""><svg class="Zi Zi--ArrowLeft" fill="#d3d3d3" viewBox="0 0 24 24" width="40" height="40"><path d="M14.782 16.78a.737.737 0 0 1-1.052 0L9.218 12.53a.758.758 0 0 1 0-1.063L13.73 7.22a.737.737 0 0 1 1.052 0c.29.294.29.77.001 1.063L11 12l3.782 3.716c.29.294.29.77 0 1.063z" fill-rule="evenodd"></path></svg></button><a href="http://zhuanlan.zhihu.com/p/33058849" class="PostItem"><div><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-50ee929f820b75c814bed99187355f0f_250x0.jpg" srcset="https://pic1.zhimg.com/v2-50ee929f820b75c814bed99187355f0f_qhd.jpg 2x" class="PostItem-TitleImage" alt="目标检测研究综述+LocNet"><h1 class="PostItem-Title">目标检测研究综述+LocNet</h1><div class="PostItem-Footer"><span>人工智能L...</span><span class="PostItem-FooterTitle">发表于人工智能L...</span></div></div></a><a href="http://zhuanlan.zhihu.com/p/30173314" class="PostItem"><div><h1 class="PostItem-Title">【object detection】目标检测之PVANet</h1><p class="PostItem-Summary">之前介绍，RCNN/Fast RCNN/Faster RCNN这些一系列目标检测的经典论文被Ross Girshick，Kaiming He 等高产大神所占领，总算有一股清流，比如intel团队提出的PVANet(Performance Vs Accuracy …</p><div class="PostItem-Footer"><span>陈泰红</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="http://zhuanlan.zhihu.com/p/33981103" class="PostItem"><div><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-1f4492ee4dbf168b45146826a4dd2fab_250x0.jpg" srcset="https://pic1.zhimg.com/v2-1f4492ee4dbf168b45146826a4dd2fab_qhd.jpg 2x" class="PostItem-TitleImage" alt="基于深度学习的「目标检测」算法综述"><h1 class="PostItem-Title">基于深度学习的「目标检测」算法综述</h1><div class="PostItem-Footer"><span>Dave</span><span class="PostItem-FooterTitle"></span></div></div></a><a href="http://zhuanlan.zhihu.com/p/34179420" class="PostItem"><div><img src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-f44ff552a506dcc32d6f0f04c5be68e9_250x0.jpg" srcset="https://pic1.zhimg.com/v2-f44ff552a506dcc32d6f0f04c5be68e9_qhd.jpg 2x" class="PostItem-TitleImage" alt="目标检测入门（二）：模型的评测与训练技巧"><h1 class="PostItem-Title">目标检测入门（二）：模型的评测与训练技巧</h1><div class="PostItem-Footer"><span>格灵深瞳DeepGlint</span><span class="PostItem-FooterTitle"></span></div></div></a><button class="PagingButton PagingButton-Next"><svg class="Zi Zi--ArrowRight" fill="#d3d3d3" viewBox="0 0 24 24" width="40" height="40"><path d="M9.218 16.78a.737.737 0 0 0 1.052 0l4.512-4.249a.758.758 0 0 0 0-1.063L10.27 7.22a.737.737 0 0 0-1.052 0 .759.759 0 0 0-.001 1.063L13 12l-3.782 3.716a.758.758 0 0 0 0 1.063z" fill-rule="evenodd"></path></svg></button></ul></div><div class="Comments-container" data-za-detail-view-path-module="CommentList" data-za-extra-module="{&quot;card&quot;:{&quot;content&quot;:null}}"><div class="Comments Comments--withEditor Comments-withPagination"><div class="Topbar CommentTopbar"><div class="Topbar-title"><h2 class="CommentTopbar-title">59 条评论</h2></div><div class="Topbar-options"><button type="button" class="Button Button--plain Button--withIcon Button--withLabel"><span style="display: inline-flex; align-items: center;">​<svg class="Zi Zi--Switch Button-zi" fill="currentColor" viewBox="0 0 24 24" width="1.2em" height="1.2em"><path d="M13.004 7V4.232c0-.405.35-.733.781-.733.183 0 .36.06.501.17l6.437 5.033c.331.26.376.722.1 1.033a.803.803 0 0 1-.601.264H2.75a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.75 7h10.254zm-1.997 9.999v2.768c0 .405-.35.733-.782.733a.814.814 0 0 1-.5-.17l-6.437-5.034a.702.702 0 0 1-.1-1.032.803.803 0 0 1 .6-.264H21.25a.75.75 0 0 1 .75.75v1.499a.75.75 0 0 1-.75.75H11.007z" fill-rule="evenodd"></path></svg></span>切换为时间排序</button></div></div><div class="Comments-footer CommentEditor--normal"><div class="CommentEditor-input Input-wrapper Input-wrapper--spread Input-wrapper--large Input-wrapper--noPadding"><div class="Input Editable"><div class="Dropzone RichText ztext" style="min-height: 198px;"><div class="DraftEditor-root"><div class="public-DraftEditorPlaceholder-root"><div class="public-DraftEditorPlaceholder-inner" id="placeholder-ejeor">写下你的评论...</div></div><div class="DraftEditor-editorContainer"><div aria-describedby="placeholder-ejeor" class="notranslate public-DraftEditor-content" contenteditable="true" role="textbox" spellcheck="true" tabindex="0" style="outline: none; white-space: pre-wrap; word-wrap: break-word;"><div data-contents="true"><div class="Editable-unstyled" data-block="true" data-editor="ejeor" data-offset-key="313o5-0-0"><div data-offset-key="313o5-0-0" class="public-DraftStyleDefault-block public-DraftStyleDefault-ltr"><span data-offset-key="313o5-0-0"><br data-text="true"></span></div></div></div></div></div></div></div><input multiple="" type="file" accept="image/jpg,image/jpeg,image/png,image/gif" style="display: none;"><div></div></div></div><button disabled="" type="button" class="Button CommentEditor-singleButton Button--primary Button--blue">评论</button></div><div><div class="CommentList"><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-95585-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-95585-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-edae888bf9060b643d39b34e272f4b62_s.jpg" srcset="https://pic2.zhimg.com/v2-edae888bf9060b643d39b34e272f4b62_xs.jpg 2x" alt="WestCrossing"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing">WestCrossing</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">赞一个，最近也在研究目标检测，学习啦。楼主是哪个学院啊</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>2</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-55138-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-55138-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/feng-yang-37-62"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/f9e6ed601_s.jpg" srcset="https://pic1.zhimg.com/f9e6ed601_xs.jpg 2x" alt="钢的弦"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/feng-yang-37-62">钢的弦</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">活捉一只小白将</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-52045-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-52045-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/swjtuer-25"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-5773c940bfa7c43356c47b06ba5917e3_s.jpg" srcset="https://pic4.zhimg.com/v2-5773c940bfa7c43356c47b06ba5917e3_xs.jpg 2x" alt="swjtuer"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/swjtuer-25">swjtuer</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">厉害👍</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-95246-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-95246-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/billykingdom"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-ccca4cd062cbfa2e3c87625810b2cdac_s.jpg" srcset="https://pic1.zhimg.com/v2-ccca4cd062cbfa2e3c87625810b2cdac_xs.jpg 2x" alt="超逸要努力刷题"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/billykingdom">超逸要努力刷题</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content"><p>Thanks for sharing~</p></div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentList-divider"><div class="CommentList-dividerLine"></div><div class="CommentList-dividerText">以上为精选评论<svg viewBox="0 0 20 20" class="Icon CommentList-questionMark Icon--questionMark" width="14" height="16" aria-hidden="true" data-tooltip="精选评论包含回答作者推荐的评论和部分高赞评论" style="height: 16px; width: 14px;"><title></title><g><path d="M10 20c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10zm0-3.68c-.328 0-.61-.116-.846-.345-.236-.23-.354-.515-.354-.856 0-.33.118-.612.354-.848.236-.235.518-.353.846-.353.328 0 .61.114.846.343.236.23.354.515.354.856 0 .34-.118.625-.354.855-.236.23-.518.344-.846.344zm2.76-7.4c-.227.233-.636.622-1.226 1.17-.163.155-.295.29-.393.408-.097.117-.17.224-.218.32-.048.098-.086.195-.112.293-.026.098-.066.268-.12.513-.09.518-.376.777-.856.777-.25 0-.46-.085-.63-.254-.17-.17-.255-.42-.255-.755 0-.418.06-.78.186-1.086.125-.307.29-.576.497-.808.206-.23.485-.506.835-.825.307-.28.53-.49.666-.63.137-.143.252-.3.346-.475.093-.175.14-.364.14-.568 0-.4-.143-.735-.428-1.01-.286-.273-.655-.41-1.106-.41-.528 0-.917.138-1.166.414-.25.278-.46.685-.634 1.223-.163.563-.472.845-.928.845-.27 0-.496-.1-.68-.295-.185-.197-.278-.41-.278-.64 0-.473.147-.952.44-1.438.292-.486.72-.888 1.28-1.207C8.683 4.158 9.34 4 10.087 4c.696 0 1.31.133 1.844.4.532.266.944.63 1.234 1.087.29.46.436.957.436 1.495 0 .423-.083.794-.248 1.113-.166.32-.363.594-.59.826z"></path></g></svg></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-47872-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-47872-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing">WestCrossing</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">材料学院</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10560-59838-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10560-59838-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-edae888bf9060b643d39b34e272f4b62_s.jpg" srcset="https://pic2.zhimg.com/v2-edae888bf9060b643d39b34e272f4b62_xs.jpg 2x" alt="WestCrossing"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing">WestCrossing</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">这么腻害的，是不是都是自学啊</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-46235-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-46235-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing">WestCrossing</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">😭😭差不多</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-30788-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-30788-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-edae888bf9060b643d39b34e272f4b62_s.jpg" srcset="https://pic2.zhimg.com/v2-edae888bf9060b643d39b34e272f4b62_xs.jpg 2x" alt="WestCrossing"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/westcrossing">WestCrossing</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">大佬大佬，我是电信学院的，也是在自学，期待大佬更新</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-73114-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-73114-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/hao-yu-xuan-96"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/da8e974dc_s.jpg" srcset="https://pic4.zhimg.com/da8e974dc_xs.jpg 2x" alt="皓宇轩"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/hao-yu-xuan-96">皓宇轩</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">楼主研几啊</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>1</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-96030-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-96030-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/hao-yu-xuan-96">皓宇轩</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">研三了</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-82207-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-82207-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/c5ac1be5515cbed98086f764b0c69055_s.jpg" srcset="https://pic3.zhimg.com/c5ac1be5515cbed98086f764b0c69055_xs.jpg 2x" alt="RR(DoubleR)"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">yolo v2的loss function你是单纯参考yad2k的吗？</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-3963-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-3963-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">C源码</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-51735-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-51735-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/c5ac1be5515cbed98086f764b0c69055_s.jpg" srcset="https://pic3.zhimg.com/c5ac1be5515cbed98086f764b0c69055_xs.jpg 2x" alt="RR(DoubleR)"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">我研究了一下yad2k和darknet的loss function，darknet c的部分我没有看的太细致，后面我看了darkflow的实现，loss function w和h的部分还是用平方根来实现的。</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-57326-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-57326-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/c5ac1be5515cbed98086f764b0c69055_s.jpg" srcset="https://pic3.zhimg.com/c5ac1be5515cbed98086f764b0c69055_xs.jpg 2x" alt="RR(DoubleR)"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">我感觉yad2k的loss部分的实现是有瑕疵的，欢迎一起交流，我之前阅读源码的时候也有疑惑，现在也不太确定</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-39680-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-39680-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">Darkflow的是按照yolo v1的模式实现的。yolo v2的loss方面文章比较少，最好读读源码。yad2k的实现还算比较接近源码的实现</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-62293-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-62293-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/c5ac1be5515cbed98086f764b0c69055_s.jpg" srcset="https://pic3.zhimg.com/c5ac1be5515cbed98086f764b0c69055_xs.jpg 2x" alt="RR(DoubleR)"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">darkflow中计算w和h是基于exp后的ty与tw，而yad2k中是直接计算ty与tw，但它们用的是同样的sacle，想请问下源码中是基于哪个版本？</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-9093-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-9093-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">我贴了有个源码函数，你看一下，都是offsets</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-35251-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-35251-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/c5ac1be5515cbed98086f764b0c69055_s.jpg" srcset="https://pic3.zhimg.com/c5ac1be5515cbed98086f764b0c69055_xs.jpg 2x" alt="RR(DoubleR)"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">好，赞👍</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-43749-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-43749-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-4a32ecec0158b446318791a45fc4c538_s.jpg" srcset="https://pic4.zhimg.com/v2-4a32ecec0158b446318791a45fc4c538_xs.jpg 2x" alt="小白将"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/xiaohuzc">小白将</a></span><span class="CommentItem-roleInfo"> (作者) </span><span><span class="CommentItem-reply">回复</span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/chen-zhen-64-12">RR(DoubleR)</a></span></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">其实我觉得没必要太纠结，按照哪一种方式都可以。不一定作者的就一定是好的。</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-talkBtn Button--plain"><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--comments Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><g>     <path d="M9 0C3.394 0 0 4.13 0 8c0 1.654.522 3.763 2.014 5.566.314.292.518.82.454 1.17-.165 1.488-.842 1.905-.842 1.905-.328.332.105.67.588.582 1.112-.2 2.07-.58 3.526-1.122.4-.202.464-.147.78-.078C11.524 17.764 18 14 18 8c0-3.665-3.43-8-9-8z"></path>     <path d="M19.14 9.628c.758.988.86 2.01.86 3.15 0 1.195-.62 3.11-1.368 3.938-.21.23-.354.467-.308.722.12 1.073.614 1.5.614 1.5.237.24-.188.563-.537.5-.802-.145-1.494-.42-2.545-.81-.29-.146-.336-.106-.563-.057-2.043.712-4.398.476-6.083-.926 5.964-.524 8.726-3.03 9.93-8.016z"></path>   </g></g></svg>查看对话</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div><div class="CommentItem"><div><div class="CommentItem-meta"><span class="UserLink CommentItem-avatar"><div class="Popover"><div id="Popover-10561-24833-toggle" aria-haspopup="true" aria-expanded="false" aria-owns="Popover-10561-24833-content"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/fate-94-93"><img class="Avatar UserLink-avatar" width="24" height="24" src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/v2-c6ba831556322dd2b97c9d22f7eced3e_s.jpg" srcset="https://pic2.zhimg.com/v2-c6ba831556322dd2b97c9d22f7eced3e_xs.jpg 2x" alt="Fate"></a></div></div></span><span class="UserLink"><a class="UserLink-link" data-za-detail-view-element_name="User" target="_blank" href="https://www.zhihu.com/people/fate-94-93">Fate</a></span><span class="CommentItem-time">1 个月前</span></div><div class="RichText ztext CommentItem-content">微信跟知乎同步啊</div><div class="CommentItem-footer"><button type="button" class="Button CommentItem-likeBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>赞</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 22 16" class="Icon Icon--reply Icon--left" width="13" height="16" aria-hidden="true" style="height: 16px; width: 13px;"><title></title><g><path d="M21.96 13.22c-1.687-3.552-5.13-8.062-11.637-8.65-.54-.053-1.376-.436-1.376-1.56V.677c0-.52-.635-.915-1.116-.52L.47 6.67C.18 6.947 0 7.334 0 7.763c0 .376.14.722.37.987 0 0 6.99 6.818 7.442 7.114.453.295 1.136.124 1.135-.5V13c.027-.814.703-1.466 1.532-1.466 1.185-.14 7.596-.077 10.33 2.396 0 0 .395.257.535.257.892 0 .614-.967.614-.967z"></path></g></svg>回复</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 20 18" xmlns="http://www.w3.org/2000/svg" class="Icon Icon--like Icon--left" width="13" height="16" aria-hidden="true" style="transform: rotate(180deg); height: 16px; width: 13px;"><title></title><g><path d="M.718 7.024c-.718 0-.718.63-.718.63l.996 9.693c0 .703.718.65.718.65h1.45c.916 0 .847-.65.847-.65V7.793c-.09-.88-.853-.79-.846-.79l-2.446.02zm11.727-.05S13.2 5.396 13.6 2.89C13.765.03 11.55-.6 10.565.53c-1.014 1.232 0 2.056-4.45 5.83C5.336 6.965 5 8.01 5 8.997v6.998c-.016 1.104.49 2 1.99 2h7.586c2.097 0 2.86-1.416 2.86-1.416s2.178-5.402 2.346-5.91c1.047-3.516-1.95-3.704-1.95-3.704l-5.387.007z"></path></g></svg>踩</button><button type="button" class="Button CommentItem-hoverBtn Button--plain"><svg viewBox="0 0 18 20" class="Icon Icon--report Icon--left" width="11" height="16" aria-hidden="true" style="height: 16px; width: 11px;"><title></title><g><path d="M16.947 1.13c-.633.135-3.927.638-5.697.384-3.133-.45-4.776-2.54-9.95-.888C.305 1.04.025 1.664.025 2.646L0 18.807c0 .3.1.54.304.718.195.202.438.304.73.304.275 0 .52-.102.73-.304.202-.18.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V1.964c0-.6-.42-.972-1.053-.835z"></path></g></svg>举报</button></div></div></div></div><div class="Pagination comments-pagination"><button disabled="" type="button" class="Button PaginationButton PaginationButton--current Button--plain">1</button><button type="button" class="Button PaginationButton Button--plain">2</button><button type="button" class="Button PaginationButton Button--plain">3</button><button type="button" class="Button PaginationButton PaginationButton-next Button--plain">下一页</button></div><span></span></div></div></div></article></div></main><div class="CornerButtons"><div class="CornerAnimayedFlex"><button data-tooltip="回到顶部" data-tooltip-position="left" aria-label="回到顶部" type="button" class="Button CornerButton Button--plain"><svg class="Zi Zi--BackToTop" title="回到顶部" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M16.036 19.59a1 1 0 0 1-.997.995H9.032a.996.996 0 0 1-.997-.996v-7.005H5.03c-1.1 0-1.36-.633-.578-1.416L11.33 4.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.005z"></path></svg></button></div></div></div></div><script src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/vendor.c1ed8d16a6988c3797dd.js.下载"></script><script src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/column.raven.43187d3e7b4f1a19a5fc.js.下载" async=""></script><script src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/column.app.e5934a8571a959ca53ec.js.下载"></script><script></script><div><div style="display: none;">想来知乎工作？请发送邮件到 jobs@zhihu.com</div></div><script src="./目标检测_YOLOv2原理与实现(附YOLOv3)_files/js"></script><div><div><div class="Editable-languageSuggestions" style="left: -1179px; top: -999px;"><div><div class="Popover"><div class="Editable-languageSuggestionsInput Input-wrapper"><input autocomplete="off" role="combobox" aria-expanded="false" aria-autocomplete="list" aria-activedescendant="AutoComplet-9895-89598-0" id="Popover-9894-50434-toggle" aria-haspopup="true" aria-owns="Popover-9894-50434-content" class="Input" placeholder="选择语言" value=""><div class="Input-after"><svg class="Zi Zi--Select" fill="#afbdcf" viewBox="0 0 24 24" width="24" height="24"><path d="M12 16.183l2.716-2.966a.757.757 0 0 1 1.064.001.738.738 0 0 1 0 1.052l-3.247 3.512a.758.758 0 0 1-1.064 0L8.22 14.27a.738.738 0 0 1 0-1.052.758.758 0 0 1 1.063 0L12 16.183zm0-9.365L9.284 9.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l3.248-3.512a.758.758 0 0 1 1.065 0L15.78 8.73a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063.001L12 6.818z" fill-rule="evenodd"></path></svg></div></div></div></div></div></div></div></body></html>